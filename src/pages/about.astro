---
import BaseLayout from '../layouts/BaseLayout.astro';

import { Image } from 'astro:assets';
import dainPortraitIndyWeekly from '../assets/dain-indy-weekly.webp';
import friendsSharingTots from '../assets/gallery/1-friends-sharing-tots-1000.webp';
import dainsPlaceLovesYouSign from '../assets/dains-loves-you-board.webp';

const pageTitle = 'About Us';
---
<style>
	section {
		text-align: center;
	}
	section.intro {
		padding-bottom: var(--space-md);
		display: flex;
		flex-direction: column;
		align-items: center;

		display: grid;
		grid-template-columns: 1fr;
		grid-template-rows: auto;
	}
	.portrait {
		grid-column: 1 / 2;
		grid-row: 1 / 2;
	}
	.attribution {
		z-index: 999;
		grid-column: 1 / 2;
		grid-row: 1 / 2;

		justify-self: start;
		align-self: end; 
		color: var(--white);
		opacity: 80%;
		margin: var(--size-1) var(--size-2);

		min-width: 100%;
		display: flex;
		align-items: center;
		gap: .25em;
	}
	.icon-arrow-out {
		display: inline-block;
		height: .85rem;
		margin-left: -.5rem;
	}	
	.intro h2 {
		margin: var(--size-fluid-4) auto;
		/* font-size: 4.75rem; */
		font-size: clamp(4.5rem, 6rem + 2vw, 8rem);
		line-height: .8;
	}
	span.nowrap {
		text-wrap: nowrap;
		display: block;
	}
	.intro h2 span.cursive {
		font-size: 2.25rem;
		font-size: clamp(2.25rem, 1.5rem + .75vw, 3.5rem);
		margin-left: -1.15ch;
		vertical-align:middle;
	}
	.intro blockquote {
		font-size: 1.25rem;
		font-size: clamp(1.35rem, 0.942rem + 1.165vw, 1.5rem);
		font-weight: var(--font-weight-6);

		padding-block: var(--size-fluid-2);
	}

	/* friends of the bar section */
	.carousel {
		/* background-image: url('../assets/gallery/1-friends-sharing-tots-1000.jpg'); */
		/* background-size: contain;
		background-repeat: no-repeat;
		background-position: center; */
		/* TODO: adjust sizing when component built */
		width: 100%;
		/* aspect-ratio: 5 / 3.75; */

		/* display: flex;
		justify-content: space-between;
		align-items: center; */
		/* padding: 0.5rem; */
		position: relative;
	}
	.circle-wrapper {
		/* position: absolute;
		top: 50%;
		transform: translateY(-50%);

		border-radius: 50%;
		background-color: rgba(255,255,255,0.5);
		padding: 0.25rem; */

		/* TODO: REDISPLAY WHEN SCRIPT OR PACKAGE INSTALL ALLOWS INTERACTIVITY */
		display: none;
	}
	.back {
		left: 0.5rem;
	}
	.forward {
		right: 0.5rem;
	}
	.caret {
		fill: var(--red);
	}
	section.friends {
		padding-block: var(--space-md);
	}
	.friends .btn {
		margin: 0 auto var(--space-md);
		padding-inline: var(--space-sm);
		min-width: 100%;
		background-color: var(--red);
		color: var(--background);
	}
	.customer-quote blockquote {
		margin-top: var(--space-md);
		margin-bottom: var(--space-sm);
		display: block;
		text-align: center;
		max-inline-size: 600px;
	}
	.customer-quote > *, blockquote {
		text-align: center;
		border: none;
		font-style: italic;
	}
	.customer-quote cite {
		font-style: normal;
		font-weight: 200;
		/* make flexbox to vert center small element */
		display: flex;
		justify-content: center;
		align-items: center;
		gap: 1ch;
	}

	/* motto section */
	.motto {
		background: var(--red);
		color: var(--white);

		padding-block: var(--size-fluid-3);
	}
	.motto h3 {
		font-size: 3.375rem;
		line-height: .85em;
		width: 100%;
	}
	.motto .cursive {
		font-size: 2rem;
		line-height: .75em;
	}
	.line {
		text-wrap: nowrap;
	}
	.line__top {
		padding-inline-end: 3.5ch;
	}
	.line__center {
		padding-inline-end: .75ch;
	}
	.line__bottom {
		padding-inline-start: 1.5ch;
	}
	.motto .place {
		display: inline-block;
		transform: translateY(-.15em);
	}
	.motto .content {
		margin-block: var(--space-md);
	}
	.content p:last-of-type {
		margin-block-start: var(--space-sm);
	}
	.smileyface {
		fill: var(--white);
		display: inline;
		vertical-align: middle;
		width: 1em;
	}

	/* Tablet */
	@media (min-width: 654px) {
		.page-wrapper {
			display: grid;
			grid-template-columns: 1fr;
			grid-template-rows: repeat(3, auto);
		}
		.intro {
			grid-row: 1 / 2;
			border-bottom: none;
		}
		.friends {
			grid-row: 3 / 4;
		}
		section.intro {
			display: grid;
			grid-template-columns: minmax(200px, auto) minmax(300px, 50%);
			grid-template-rows: auto;
			column-gap: var(--size-fluid-3);
			row-gap: var(--size-fluid-1);
		}
		.portrait {
			height: 100%;
			object-fit: cover;
			grid-column: 1 / 2;
			grid-row: 1 / 5;
		}
		.attribution {
			grid-column: 1 / 2;
			grid-row: 1 / 5;
		}
		.intro h2 {
			grid-column: 2 / 3;
			grid-row: 1 / 2;
			align-self: start;
			margin-top: -.125ch;
			margin-bottom: 1rem;
		}
		.intro .text {
			/* margin-inline: var(--size-fluid-2); */
			margin-inline: auto;
			max-inline-size: 45ch;
		}
		.intro p:last-of-type {
			margin-bottom: 3rem;
		}
		.intro .quote {
			margin-block: 0;
			padding-inline: 1em;
			/* font-size: clamp(1.5rem, 1rem + 1.25vw, 2rem); */
			font-size: clamp(1.75rem, 0.942rem + 1.365vw, 2rem);
		}

		/* friends section */
		.friends {
			width: 100%;
			display: flex;
			flex-direction: column;
			align-items: center;
			gap: 2rem;
		}
		.friends h3.btn {
			margin-block: 0;
			padding-block: 0;
			color: var(--red);
			background-color: var(--background);
			/* font-family: 'Barlow Condensed', sans-serif; */
			font-weight: var(--font-weight-7);
			font-size: clamp(2.75rem, 0.942rem + 1.5vw, 3.5rem);
			line-height: .85;
		}
		.carousel {
			/* grid-column: 2 / 3; */
			max-width: 600px;
		}
		.customer-quote {
			width: 100%;
			align-items: center;
		}
		.customer-quote blockquote {
			margin-block: 0;
		}
	}

	@media (min-width: 710px) {
		/* shift bottom section layout only when screen wider than img max */
		.layout-wrapper {
			display: grid;
			grid-template-columns: 1fr minmax(40%, 1fr);
		}
		.motto {
			min-width: 475px;
			text-align: center;
		}
		.motto .drop-border {
			height: 100%;
			align-items: center;
			padding-block: 0;
			gap: var(--size-fluid-4);
		}
		.motto h3 {
			font-size: clamp(3.5rem, 4rem + 1vw, 6rem);
			justify-content: center;
			align-items: center;
		}
		.motto .line__center {
			padding-inline-end: 0;
		}
		.motto .place {
			transform: translateY(-.5ch);
		}
		.motto .content {
			margin-block: 0;
		}
		.motto .body-text {
			margin-inline: auto;
			max-inline-size: 40ch;
			line-height: 1.55em;
		}
		.bottom-photo {
			height: 100%;
			max-height: 1000px;
			object-fit: cover;
		}
	}

	@media (min-width: 1100px) {
		section.friends {
			/* margin-block: var(--space-md); */
			display: grid;
			grid-template-columns: minmax(200px, 1fr) minmax(350px, 1fr);
			grid-template-rows: auto;
			column-gap: 1.75rem;
			row-gap: 2.5rem;
		}
		.friends h3 {
			grid-column: 1 / 3;
		}
		.friends .carousel {
			grid-column: 2 / 3;
			grid-row: 2 / 3;
		}
		.friends .customer-quote {
			grid-column: 1 / 2;
			.grid-row: 2 / 3;
			padding-inline: 2rem;
			gap: 1rem;
		}
	}
</style>

<BaseLayout pageTitle={pageTitle}>
	<div class="page-wrapper">
		<section class="intro bottom-border padded-all">
			<Image class="portrait" src={dainPortraitIndyWeekly} alt="Dain Phelan standing behind his bar, smiling proudly. Credit: Indy Weekly" />
			<small class="attribution">Photo by <a class="underline" href="https://indyweek.com/food-and-drink/cheers-dain-phelan-s-place/" target="_blank">Indy Week</a> <svg class="icon icon-arrow-out" xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#ffffff" viewBox="0 0 256 256"><path d="M224,104a8,8,0,0,1-16,0V59.32l-66.33,66.34a8,8,0,0,1-11.32-11.32L196.68,48H152a8,8,0,0,1,0-16h64a8,8,0,0,1,8,8Zm-40,24a8,8,0,0,0-8,8v72H48V80h72a8,8,0,0,0,0-16H48A16,16,0,0,0,32,80V208a16,16,0,0,0,16,16H176a16,16,0,0,0,16-16V136A8,8,0,0,0,184,128Z"></path></svg></small>

			<h2 class="uppercase"><span class="nowrap">Meet <span class="cursive">the</span></span> Dainer</h2>

			<p class="body-text text">The man, the myth, the legend... Dain Phelan started making decorations for his dream bar in the 6th grade. A devotee of Cheers' great Same Malone, Dain studied hospitality at Purdue  There are some good ones from the Indy Weekly profile on Dain from back in 2014 where he talks about Sam Malone being an idol and making decorations for the bar starting in 6th grade. How cute is that! Lorem borem ipsum. </p>
			<blockquote class="quote text" cite="https://indyweek.com/food-and-drink/cheers-dain-phelan-s-place/">"All I ever wanted to do is open a bar."</blockquote>
			<p class="body-text text">So in 2007, on his 69th birthday, that's exactly what Dain did. In the years since, 754 Ninth Street has become a genuine Durham institution - a lively, welcoming refuge for locals, students, and visitors alike, where you're sure to be greeted with a smile (and a wise crack if we really like ya).</p>
		</section>

		<section class="friends padded-all">
			<h3 class="btn btn--solid cursive uppercase">Friends + Fries = Family</h3>
			<div class="carousel drop-border">
				<!-- TODO: Build carousel. Find built-in component or write script? Remove current placeholder bg image -->
				<Image class="slide" src={friendsSharingTots} alt="Friends Sean and Scott sharing tater tots at the bar" />
				<div class="circle-wrapper back">
					<svg class="caret caret__back" xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#000000" viewBox="0 0 256 256"><path d="M165.66,202.34a8,8,0,0,1-11.32,11.32l-80-80a8,8,0,0,1,0-11.32l80-80a8,8,0,0,1,11.32,11.32L91.31,128Z"></path></svg>
				</div>
				<div class="circle-wrapper forward">
					<svg class="caret caret__forward" xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#000000" viewBox="0 0 256 256"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg>
				</div>
			</div>
			<div class="customer-quote col">
				<blockquote>“After 2 days of not eating in preparation for a medical procedure, the first thought I had after awaking from anesthesia was not of my wife or my child, but how I was going to eat the %*$# out of a burger and fries at Dain's afterwards”</blockquote>
				<cite>- Scott T. <small>(man of great taste)</small></cite>
			</div>
		</section>

		<div class="layout-wrapper">
			<section class="motto padded-all">
				<div class="drop-border drop-border--white col padded-all container">
					<h3 class="uppercase col">
						<span class="break line line__top"><span class="cursive">Make</span></span>
						<span class="break line line__center">Dain's Place</span>
						<span class="break line line__bottom"><span>your </span><span class="cursive place">place!</span></span>
					</h3>
					<div class="content">
						<p class="body-text">It's been our motto since the start, and we mean it! When you walk through our doors we want you to feel at home - like you just rolled up to your high school BFF's house. Their parents are out of town, all your friends are here, your team is up by 2 touchdowns, and it's basement party time, babyyyy.</p>
						<p class="body-text"> *In this hypothetical your BFF’s basement has bangin’ pub food, a full bar with classic cocktails, craft brews and daily specials, 4 HD TVs, friendly servers, great tunes, free Wi-Fi, and a patio, just to be clear. <span><svg class="smileyface" xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#000000" viewBox="0 0 256 256"><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216ZM80,108a12,12,0,1,1,12,12A12,12,0,0,1,80,108Zm104,0a8,8,0,0,1-8,8H152a8,8,0,0,1,0-16h24A8,8,0,0,1,184,108Zm-9.08,48c-10.29,17.79-27.39,28-46.92,28s-36.63-10.2-46.93-28a8,8,0,1,1,13.86-8c7.46,12.91,19.2,20,33.07,20s25.61-7.1,33.08-20a8,8,0,1,1,13.84,8Z"></path></svg></span></p>
					</div>
				</div>
			</section>
			<div class="chalkboard-container">
				<Image class="bottom-photo" src={dainsPlaceLovesYouSign} alt="Sandwich board sign with chalk drawing saying Dain's Place Loves You and Happy Pride!" />
			</div>
		</div>
	</div>
</BaseLayout>